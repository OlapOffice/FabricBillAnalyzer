<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Microsoft Azure & Fabric Bill Analyzer - Visual Workflow Guide</title>
    
    <!-- Mermaid.js for diagram rendering -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    
    <!-- Bootstrap for styling -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Custom styles -->
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container-fluid {
            background: rgba(255, 255, 255, 0.95);
            margin: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            padding: 30px;
        }
        
        .header {
            background: linear-gradient(45deg, #2196F3, #21CBF3);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .diagram-section {
            margin-bottom: 50px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 5px solid #2196F3;
        }
        
        .diagram-title {
            color: #1976D2;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .diagram-title i {
            margin-right: 10px;
            font-size: 1.2em;
        }
        
        .diagram-description {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #2196F3;
        }
        
        .mermaid {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .nav-pills .nav-link.active {
            background-color: #2196F3;
        }
        
        .nav-pills .nav-link {
            color: #2196F3;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        .toc {
            background: #e8f5e8;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 5px solid #4caf50;
        }
        
        .badge-custom {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8em;
            margin-left: 10px;
        }
        
        .quick-links {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.9);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 1000;
        }
        
        @media (max-width: 768px) {
            .quick-links {
                position: relative;
                top: auto;
                right: auto;
                margin-bottom: 20px;
            }
        }
        
        .footer {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-top: 40px;
        }
    </style>
</head>
<body>
    <!-- Quick Navigation Links -->
    <div class="quick-links d-none d-lg-block">
        <h6>Quick Jump:</h6>
        <a href="#workflow" class="btn btn-sm btn-outline-primary">Complete Workflow</a><br>
        <a href="#features" class="btn btn-sm btn-outline-primary mt-1">Features</a><br>
        <a href="#journey" class="btn btn-sm btn-outline-primary mt-1">User Journey</a><br>
        <a href="#architecture" class="btn btn-sm btn-outline-primary mt-1">Architecture</a><br>
        <a href="#decisions" class="btn btn-sm btn-outline-primary mt-1">Decisions</a><br>
        <a href="#exports" class="btn btn-sm btn-outline-primary mt-1">Exports</a><br>
        <a href="#troubleshoot" class="btn btn-sm btn-outline-primary mt-1">Help</a>
    </div>

    <div class="container-fluid">
        <!-- Header -->
        <div class="header">
            <h1>ğŸš€ Microsoft Azure & Fabric Bill Analyzer</h1>
            <h3>Visual Workflow Guide</h3>
            <p class="mb-0">Comprehensive Interactive Diagrams for Understanding the Complete User Journey</p>
            <small>Powered by <strong>Semanticise Inc.</strong> | <a href="https://semanticise.com/" class="text-white">https://semanticise.com/</a></small>
        </div>

        <!-- Table of Contents -->
        <div class="toc">
            <h4>ğŸ“‹ Table of Contents</h4>
            <div class="row">
                <div class="col-md-6">
                    <ul class="list-unstyled">
                        <li><a href="#workflow">1. ğŸ”„ Complete User Workflow</a></li>
                        <li><a href="#features">2. ğŸ¨ Feature Interaction Map</a></li>
                        <li><a href="#journey">3. ğŸ—ºï¸ User Journey Experience</a></li>
                        <li><a href="#architecture">4. ğŸ—ï¸ Data Flow Architecture</a></li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <ul class="list-unstyled">
                        <li><a href="#decisions">5. ğŸŒ³ Analysis Decision Tree</a></li>
                        <li><a href="#exports">6. ğŸ“¤ Export Options Guide</a></li>
                        <li><a href="#troubleshoot">7. ğŸ› ï¸ Troubleshooting Helper</a></li>
                        <li><a href="#quickstart">8. âš¡ Quick Start Flow</a></li>
                    </ul>
                </div>
            </div>
            <div class="alert alert-info mt-3">
                <strong>ğŸ’¡ Pro Tip:</strong> Click on any diagram element to explore interactive features. Use the quick jump links on the right for faster navigation.
            </div>
        </div>

        <!-- Navigation Pills -->
        <ul class="nav nav-pills mb-4" id="diagramTabs" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" data-bs-toggle="pill" href="#all-diagrams">All Diagrams</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-bs-toggle="pill" href="#getting-started">Getting Started</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-bs-toggle="pill" href="#advanced">Advanced Users</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-bs-toggle="pill" href="#technical">Technical Details</a>
            </li>
        </ul>

        <div class="tab-content">
            <div class="tab-pane fade show active" id="all-diagrams">
                
                <!-- Diagram 1: Complete User Workflow -->
                <div class="diagram-section" id="workflow">
                    <h2 class="diagram-title">
                        ğŸ”„ Complete User Workflow
                        <span class="badge-custom">Essential</span>
                    </h2>
                    <div class="diagram-description">
                        <strong>Purpose:</strong> This comprehensive flowchart shows the entire user journey from initial data preparation through final business analysis. Perfect for understanding the complete process.
                        <br><strong>Best for:</strong> All users, training materials, process documentation
                    </div>
                    <div class="mermaid">
                        flowchart TD
                            A[ğŸ START: User has Azure/Fabric billing data] --> B[ğŸ“¥ Obtain Azure billing CSV<br/>Portal â†’ Subscription â†’ Billing â†’ Invoices]
                            
                            B --> C{ğŸ“‹ Data Format Check<br/>Required Columns?}
                            C -->|âœ… Valid Format| D[ğŸš€ Choose Launch Method]
                            C -->|âŒ Invalid Format| E[âŒ Fix data format<br/>Need: MeterCategory, ConsumedService,<br/>ResourceName, Cost]
                            E --> B
                            
                            D --> F[ğŸ–¥ï¸ Web App<br/>python run_app.py<br/>ğŸŒŸ Recommended]
                            D --> G[ğŸ’» Command Line<br/>python cli.py<br/>âš¡ Advanced Users]
                            D --> H[ğŸ”§ Direct Launch<br/>python app.py<br/>ğŸ› ï¸ Manual Setup]
                            
                            F --> I[ğŸŒ Web Dashboard<br/>http://localhost:5000]
                            G --> J[ğŸ“Š CLI Analysis & Export]
                            H --> I
                            
                            I --> K[ğŸ“¤ Upload File<br/>Drag & Drop or Browse]
                            K --> L{âœ… File Validation<br/>Size < 16MB?<br/>Valid CSV/Excel?}
                            L -->|âŒ Validation Failed| M[âŒ Show Error Message<br/>â€¢ Check file format<br/>â€¢ Verify columns<br/>â€¢ Check file size]
                            L -->|âœ… Validation Passed| N[ğŸ” Choose Analysis Type]
                            M --> K
                            
                            N --> O[ğŸ“Š Full Analysis<br/>Complete Dashboard]
                            N --> P[ğŸ” Search Data<br/>Find Specific Resources]  
                            N --> Q[ğŸ›ï¸ Advanced Filters<br/>Multi-dimensional Filtering]
                            
                            O --> R[ğŸ“ˆ Interactive Dashboard<br/>â€¢ Key Metrics<br/>â€¢ Interactive Charts<br/>â€¢ Combined Sorted Report]
                            P --> S[ğŸ” Search Results<br/>â€¢ Highlighted Matches<br/>â€¢ Export Options]
                            Q --> T[ğŸšï¸ Filtered Results<br/>â€¢ Real-time Updates<br/>â€¢ Custom Subsets]
                            
                            R --> U[ğŸ“Š Explore Features<br/>â€¢ Service Pie Chart<br/>â€¢ Category Bar Chart<br/>â€¢ Top Resources<br/>â€¢ Cost Histogram<br/>â€¢ Sunburst Chart]
                            S --> U
                            T --> U
                            
                            U --> V{ğŸ“¤ Choose Export Format}
                            V --> W[ğŸ“‹ Excel Report<br/>7 comprehensive sheets<br/>Complete analysis]
                            V --> X[ğŸ“„ BillSort CSV<br/>Combined sorted report<br/>Categoryâ†‘ Serviceâ†‘ Costâ†“]  
                            V --> Y[ğŸ” Custom Export<br/>Search/Filter results<br/>Targeted data]
                            
                            W --> Z[ğŸ’¼ Business Analysis<br/>â€¢ Cost optimization<br/>â€¢ Trend analysis<br/>â€¢ Stakeholder reports]
                            X --> Z
                            Y --> Z
                            
                            Z --> AA{ğŸ”„ Continue Analysis?}
                            AA -->|Yes - New Data| B
                            AA -->|Yes - Same Data| N
                            AA -->|No| BB[ğŸ¯ END: Successful Analysis<br/>âœ… Reports generated<br/>âœ… Insights gained<br/>âœ… Action items identified]
                            
                            J --> CC[ğŸ“Š CLI Results Display]
                            CC --> DD{ğŸ“¤ Export from CLI?}
                            DD -->|Yes| EE[ğŸ“‹ Generate Export Files<br/>â€¢ Excel reports<br/>â€¢ CSV exports<br/>â€¢ Combined reports]
                            DD -->|No| FF[ğŸ“º View CLI Results<br/>Terminal output]
                            EE --> AA
                            FF --> AA
                            
                            style A fill:#e1f5fe,stroke:#01579b,stroke-width:2px
                            style BB fill:#c8e6c9,stroke:#2e7d32,stroke-width:2px
                            style R fill:#fff3e0,stroke:#f57c00,stroke-width:2px
                            style U fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
                            style Z fill:#e8f5e8,stroke:#388e3c,stroke-width:2px
                            style F fill:#e8f5e8,stroke:#4caf50,stroke-width:2px
                            style G fill:#fff3e0,stroke:#ff9800,stroke-width:2px
                            style H fill:#fce4ec,stroke:#e91e63,stroke-width:2px
                    </div>
                </div>

                <!-- Diagram 2: Feature Interaction Map -->
                <div class="diagram-section" id="features">
                    <h2 class="diagram-title">
                        ğŸ¨ Feature Interaction Map
                        <span class="badge-custom">Technical</span>
                    </h2>
                    <div class="diagram-description">
                        <strong>Purpose:</strong> Shows how all application components work together and interact. Useful for understanding system architecture and feature relationships.
                        <br><strong>Best for:</strong> Technical users, developers, system architects
                    </div>
                    <div class="mermaid">
                        graph TB
                            subgraph "Core Analysis Engine"
                                A[ğŸ“Š Data Processing<br/>â€¢ CSV/Excel parsing<br/>â€¢ Data validation<br/>â€¢ Statistical analysis]
                            end
                            
                            subgraph "Interactive Features"
                                B[ğŸ“ˆ Interactive Charts<br/>â€¢ Plotly visualizations<br/>â€¢ Hover details<br/>â€¢ Click interactions]
                                C[ğŸ” Search & Filter<br/>â€¢ Global search<br/>â€¢ Advanced filtering<br/>â€¢ Real-time results]
                                D[ğŸ“‹ Combined Sorted Report<br/>â€¢ Smart sorting algorithm<br/>â€¢ Categoryâ†’Serviceâ†’Cost<br/>â€¢ Standardized format]
                            end
                            
                            subgraph "Export & Integration"
                                E[ğŸ“¤ Multi-format Export<br/>â€¢ Excel workbooks<br/>â€¢ CSV files<br/>â€¢ Custom formats]
                                F[ğŸ”Œ REST API<br/>â€¢ JSON endpoints<br/>â€¢ Automation ready<br/>â€¢ Third-party integration]
                            end
                            
                            subgraph "User Interfaces"
                                G[ğŸŒ Web Dashboard<br/>â€¢ Responsive design<br/>â€¢ Intuitive navigation<br/>â€¢ Real-time updates]
                                H[ğŸ’» CLI Interface<br/>â€¢ Batch processing<br/>â€¢ Scripting support<br/>â€¢ Advanced options]
                            end
                            
                            A --> B
                            A --> C
                            A --> D
                            B --> E
                            C --> E
                            D --> E
                            E --> F
                            G --> A
                            H --> A
                            B --> G
                            C --> G
                            D --> G
                            
                            style A fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
                            style B fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
                            style C fill:#e8f5e8,stroke:#388e3c,stroke-width:2px
                            style D fill:#fff3e0,stroke:#f57c00,stroke-width:2px
                            style E fill:#fce4ec,stroke:#e91e63,stroke-width:2px
                            style F fill:#e0f2f1,stroke:#00796b,stroke-width:2px
                            style G fill:#f9fbe7,stroke:#689f38,stroke-width:2px
                            style H fill:#fff8e1,stroke:#fbc02d,stroke-width:2px
                    </div>
                </div>

                <!-- Diagram 3: User Journey -->
                <div class="diagram-section" id="journey">
                    <h2 class="diagram-title">
                        ğŸ—ºï¸ User Journey Experience
                        <span class="badge-custom">UX Design</span>
                    </h2>
                    <div class="diagram-description">
                        <strong>Purpose:</strong> Maps the emotional and functional user experience throughout the analysis process. Shows satisfaction levels and pain points.
                        <br><strong>Best for:</strong> UX designers, product managers, user experience optimization
                    </div>
                    <div class="mermaid">
                        journey
                            title Microsoft Azure & Fabric Bill Analyzer User Journey
                            
                            section Data Preparation
                              Download Azure billing data: 5: User
                              Verify CSV format: 3: User
                              Check required columns: 4: User
                            
                            section Application Launch
                              Launch web application: 5: User
                              Access dashboard: 5: User
                              Upload data file: 4: User
                            
                            section Analysis Phase
                              Choose analysis type: 4: User
                              Explore interactive charts: 5: User
                              Review cost metrics: 5: User
                              Use advanced filters: 4: User
                            
                            section Insights & Export
                              Generate reports: 5: User
                              Export to Excel: 5: User
                              Download BillSort CSV: 4: User
                              Share with stakeholders: 5: User
                            
                            section Action Items
                              Identify cost optimization: 5: User
                              Plan budget adjustments: 4: User
                              Schedule regular analysis: 3: User
                    </div>
                </div>

                <!-- Diagram 4: Data Flow Architecture -->
                <div class="diagram-section" id="architecture">
                    <h2 class="diagram-title">
                        ğŸ—ï¸ Data Flow Architecture
                        <span class="badge-custom">Architecture</span>
                    </h2>
                    <div class="diagram-description">
                        <strong>Purpose:</strong> Technical overview of how data flows through the system from input to output. Essential for understanding system design.
                        <br><strong>Best for:</strong> Developers, system architects, technical implementation teams
                    </div>
                    <div class="mermaid">
                        graph LR
                            subgraph "Input Layer"
                                A[ğŸ“„ Azure Billing CSV<br/>Required Columns:<br/>â€¢ MeterCategory<br/>â€¢ ConsumedService<br/>â€¢ ResourceName<br/>â€¢ Cost]
                                B[ğŸ“Š Excel Files<br/>Multiple sheets<br/>supported]
                            end
                            
                            subgraph "Processing Layer"
                                C[ğŸ” Data Validation<br/>â€¢ Column verification<br/>â€¢ Data type checking<br/>â€¢ Error handling]
                                D[ğŸ“Š Analysis Engine<br/>â€¢ Statistical analysis<br/>â€¢ Grouping & sorting<br/>â€¢ Calculations]
                                E[ğŸ¨ Chart Generation<br/>â€¢ Plotly integration<br/>â€¢ Interactive features<br/>â€¢ Export ready]
                            end
                            
                            subgraph "Output Layer"
                                F[ğŸŒ Web Dashboard<br/>â€¢ Interactive charts<br/>â€¢ Real-time filtering<br/>â€¢ Responsive design]
                                G[ğŸ“‹ Excel Reports<br/>â€¢ 7 comprehensive sheets<br/>â€¢ Formatted tables<br/>â€¢ Ready for business use]
                                H[ğŸ“„ BillSort CSV<br/>â€¢ Smart sorting<br/>â€¢ Standardized format<br/>â€¢ Integration ready]
                                I[ğŸ”Œ REST API<br/>â€¢ JSON responses<br/>â€¢ Automation support<br/>â€¢ Third-party integration]
                            end
                            
                            A --> C
                            B --> C
                            C --> D
                            D --> E
                            D --> F
                            D --> G
                            D --> H
                            D --> I
                            E --> F
                            
                            style A fill:#e1f5fe,stroke:#01579b,stroke-width:2px
                            style B fill:#e1f5fe,stroke:#01579b,stroke-width:2px
                            style C fill:#fff3e0,stroke:#f57c00,stroke-width:2px
                            style D fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
                            style E fill:#e8f5e8,stroke:#388e3c,stroke-width:2px
                            style F fill:#fce4ec,stroke:#e91e63,stroke-width:2px
                            style G fill:#e0f2f1,stroke:#00796b,stroke-width:2px
                            style H fill:#f9fbe7,stroke:#689f38,stroke-width:2px
                            style I fill:#fff8e1,stroke:#fbc02d,stroke-width:2px
                    </div>
                </div>

                <!-- Diagram 5: Decision Tree -->
                <div class="diagram-section" id="decisions">
                    <h2 class="diagram-title">
                        ğŸŒ³ Analysis Decision Tree
                        <span class="badge-custom">Decision Support</span>
                    </h2>
                    <div class="diagram-description">
                        <strong>Purpose:</strong> Helps users choose the right analysis method based on their goals. Guides decision-making for optimal results.
                        <br><strong>Best for:</strong> New users, training materials, decision support
                    </div>
                    <div class="mermaid">
                        graph TD
                            A[ğŸ“Š Start Analysis] --> B{What's your goal?}
                            
                            B -->|Complete Overview| C[ğŸ“ˆ Full Dashboard Analysis]
                            B -->|Find Specific Items| D[ğŸ” Search Analysis]
                            B -->|Custom Data Subset| E[ğŸ›ï¸ Advanced Filtering]
                            B -->|Automation/Integration| F[ğŸ’» CLI/API Approach]
                            
                            C --> G[Interactive Charts<br/>â€¢ Service pie chart<br/>â€¢ Category bar chart<br/>â€¢ Top resources<br/>â€¢ Cost histogram<br/>â€¢ Sunburst view]
                            
                            D --> H[Search Results<br/>â€¢ Keyword matching<br/>â€¢ Highlighted results<br/>â€¢ Filtered exports]
                            
                            E --> I[Filtered Dashboard<br/>â€¢ Real-time filtering<br/>â€¢ Multi-dimensional<br/>â€¢ Custom exports]
                            
                            F --> J[Automated Processing<br/>â€¢ Batch analysis<br/>â€¢ Scripted exports<br/>â€¢ API integration]
                            
                            G --> K{Export Needs?}
                            H --> K
                            I --> K
                            J --> K
                            
                            K -->|Comprehensive Report| L[ğŸ“‹ Excel Export<br/>7-sheet workbook]
                            K -->|Standard Format| M[ğŸ“„ BillSort CSV<br/>Smart sorted data]
                            K -->|Custom Data| N[ğŸ¯ Filtered Export<br/>Targeted subset]
                            
                            L --> O[ğŸ“Š Business Analysis]
                            M --> O
                            N --> O
                            
                            O --> P[ğŸ¯ Action Items<br/>â€¢ Cost optimization<br/>â€¢ Budget planning<br/>â€¢ Trend monitoring]
                            
                            style A fill:#e1f5fe,stroke:#01579b,stroke-width:2px
                            style O fill:#c8e6c9,stroke:#2e7d32,stroke-width:2px
                            style P fill:#c8e6c9,stroke:#2e7d32,stroke-width:2px
                            style C fill:#fff3e0,stroke:#f57c00,stroke-width:2px
                            style D fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
                            style E fill:#e8f5e8,stroke:#388e3c,stroke-width:2px
                            style F fill:#fce4ec,stroke:#e91e63,stroke-width:2px
                    </div>
                </div>

                <!-- Diagram 6: Export Options -->
                <div class="diagram-section" id="exports">
                    <h2 class="diagram-title">
                        ğŸ“¤ Export Options Guide
                        <span class="badge-custom">Business Use</span>
                    </h2>
                    <div class="diagram-description">
                        <strong>Purpose:</strong> Comprehensive guide to all export formats and their specific use cases. Helps users choose the right export option.
                        <br><strong>Best for:</strong> Business users, report generation, data integration teams
                    </div>
                    <div class="mermaid">
                        graph TB
                            A[ğŸ“¤ Export Decision Point] --> B{Choose Export Format}
                            
                            B -->|Complete Analysis| C[ğŸ“‹ Excel Export]
                            B -->|Standardized Data| D[ğŸ“„ BillSort CSV]
                            B -->|Custom Subset| E[ğŸ¯ Filtered Export]
                            B -->|Integration| F[ğŸ”Œ API Access]
                            
                            C --> C1[ğŸ“Š Summary Sheet<br/>Key metrics & overview]
                            C --> C2[ğŸ¢ By Service Sheet<br/>Service-level analysis]
                            C --> C3[ğŸ“¦ By Category Sheet<br/>Category breakdown]
                            C --> C4[ğŸ”§ By Resource Sheet<br/>Resource details]
                            C --> C5[ğŸ†• Combined Sorted Sheet<br/>Smart sorting algorithm]
                            C --> C6[ğŸ† Top Costs Sheet<br/>Highest cost items]
                            C --> C7[ğŸ“Š Raw Data Sheet<br/>Original dataset]
                            
                            D --> D1[ğŸ“„ Standardized Format<br/>MeterCategory, ConsumedService,<br/>ResourceName, Cost]
                            D --> D2[ğŸ”„ Smart Sorting<br/>Categoryâ†‘ â†’ Serviceâ†‘ â†’ Costâ†“]
                            D --> D3[ğŸ”— Integration Ready<br/>Standard format for<br/>other tools/systems]
                            
                            E --> E1[ğŸ” Search Results<br/>Keyword-filtered data]
                            E --> E2[ğŸ›ï¸ Filter Results<br/>Multi-criteria filtered data]
                            E --> E3[ğŸ“Š Custom Analysis<br/>User-defined subsets]
                            
                            F --> F1[ğŸ“Š GET /api/stats/<br/>Basic statistics JSON]
                            F --> F2[ğŸ“‹ GET /api/combined_report/<br/>Sorted report JSON]
                            F --> F3[ğŸ“¤ GET /export_excel/<br/>Download Excel file]
                            F --> F4[ğŸ“„ GET /export_combined_csv/<br/>Download BillSort CSV]
                            
                            style A fill:#e1f5fe,stroke:#01579b,stroke-width:2px
                            style C fill:#e8f5e8,stroke:#388e3c,stroke-width:2px
                            style D fill:#fff3e0,stroke:#f57c00,stroke-width:2px
                            style E fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
                            style F fill:#fce4ec,stroke:#e91e63,stroke-width:2px
                    </div>
                </div>

                <!-- Diagram 7: Troubleshooting -->
                <div class="diagram-section" id="troubleshoot">
                    <h2 class="diagram-title">
                        ğŸ› ï¸ Troubleshooting Decision Tree
                        <span class="badge-custom">Support</span>
                    </h2>
                    <div class="diagram-description">
                        <strong>Purpose:</strong> Quick problem resolution guide with step-by-step troubleshooting. Helps users solve common issues independently.
                        <br><strong>Best for:</strong> Support teams, user self-service, problem resolution
                    </div>
                    <div class="mermaid">
                        graph TD
                            A[âŒ Problem Encountered] --> B{What type of issue?}
                            
                            B -->|Installation| C[ğŸ”§ Dependency Issues]
                            B -->|File Upload| D[ğŸ“¤ Upload Problems]
                            B -->|Data Processing| E[ğŸ“Š Analysis Errors]
                            B -->|Display Issues| F[ğŸ–¥ï¸ UI Problems]
                            
                            C --> C1{Error: Module not found?}
                            C1 -->|Yes| C2[ğŸ’¡ Run: pip install -r requirements.txt]
                            C1 -->|No| C3[ğŸ’¡ Check Python version â‰¥ 3.7]
                            
                            D --> D1{File too large?}
                            D1 -->|Yes| D2[ğŸ’¡ Use CLI for files > 16MB]
                            D1 -->|No| D3[ğŸ’¡ Check file format: CSV/Excel only]
                            
                            E --> E1{Missing required columns?}
                            E1 -->|Yes| E2[ğŸ’¡ Ensure columns:<br/>MeterCategory, ConsumedService,<br/>ResourceName, Cost]
                            E1 -->|No| E3[ğŸ’¡ Check Cost column is numeric]
                            
                            F --> F1{Charts not loading?}
                            F1 -->|Yes| F2[ğŸ’¡ Clear browser cache<br/>Check internet connection]
                            F1 -->|No| F3[ğŸ’¡ Try different browser]
                            
                            C2 --> G[âœ… Try Again]
                            C3 --> G
                            D2 --> G
                            D3 --> G
                            E2 --> G
                            E3 --> G
                            F2 --> G
                            F3 --> G
                            
                            style A fill:#ffebee,stroke:#d32f2f,stroke-width:2px
                            style G fill:#c8e6c9,stroke:#2e7d32,stroke-width:2px
                            style C2 fill:#e8f5e8,stroke:#388e3c,stroke-width:1px
                            style D2 fill:#e8f5e8,stroke:#388e3c,stroke-width:1px
                            style E2 fill:#e8f5e8,stroke:#388e3c,stroke-width:1px
                            style F2 fill:#e8f5e8,stroke:#388e3c,stroke-width:1px
                    </div>
                </div>

                <!-- Diagram 8: Quick Start Flow -->
                <div class="diagram-section" id="quickstart">
                    <h2 class="diagram-title">
                        âš¡ Quick Start Flow
                        <span class="badge-custom">Getting Started</span>
                    </h2>
                    <div class="diagram-description">
                        <strong>Purpose:</strong> Simplified workflow for immediate use. Perfect for users who want to start analyzing data quickly.
                        <br><strong>Best for:</strong> New users, quick onboarding, immediate results
                    </div>
                    <div class="mermaid">
                        flowchart TD
                            A[ğŸ Start: Get Azure billing data] --> B[ğŸ“¥ Download CSV from Azure Portal]
                            B --> C[ğŸš€ Launch: python run_app.py]
                            C --> D[ğŸŒ Open: http://localhost:5000]
                            D --> E[ğŸ“¤ Upload your CSV file]
                            E --> F{âœ… File Valid?}
                            F -->|âŒ No| G[âŒ Fix format/columns]
                            F -->|âœ… Yes| H[ğŸ” Click 'Analyze']
                            G --> E
                            H --> I[ğŸ“Š Explore Interactive Dashboard]
                            I --> J{ğŸ“¤ Export needed?}
                            J -->|Excel| K[ğŸ“‹ Download Excel Report]
                            J -->|CSV| L[ğŸ“„ Download BillSort CSV]
                            J -->|Search| M[ğŸ” Filter & Export Custom Data]
                            K --> N[ğŸ’¼ Business Analysis Complete]
                            L --> N
                            M --> N
                            N --> O{ğŸ”„ Analyze more data?}
                            O -->|Yes| B
                            O -->|No| P[ğŸ¯ End: Insights & Action Items]

                            style A fill:#e1f5fe,stroke:#01579b,stroke-width:2px
                            style P fill:#c8e6c9,stroke:#2e7d32,stroke-width:2px
                            style I fill:#fff3e0,stroke:#f57c00,stroke-width:2px
                            style N fill:#e8f5e8,stroke:#388e3c,stroke-width:2px
                    </div>
                </div>

            </div>

            <!-- Getting Started Tab -->
            <div class="tab-pane fade" id="getting-started">
                <div class="alert alert-success">
                    <h5>ğŸš€ Perfect for New Users!</h5>
                    <p>Start with these essential diagrams to get up and running quickly:</p>
                </div>
                
                <div class="row">
                    <div class="col-md-6">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="card-title">âš¡ Quick Start Flow</h6>
                                <p class="card-text">Essential steps to start analyzing immediately</p>
                                <a href="#quickstart" class="btn btn-primary btn-sm">View Diagram</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="card-title">ğŸ”„ Complete Workflow</h6>
                                <p class="card-text">Full process from start to finish</p>
                                <a href="#workflow" class="btn btn-primary btn-sm">View Diagram</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Advanced Users Tab -->
            <div class="tab-pane fade" id="advanced">
                <div class="alert alert-info">
                    <h5>ğŸ’» For Power Users & Automation</h5>
                    <p>Advanced diagrams for experienced users and automation scenarios:</p>
                </div>
                
                <div class="row">
                    <div class="col-md-4">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="card-title">ğŸŒ³ Decision Tree</h6>
                                <p class="card-text">Choose the right analysis method</p>
                                <a href="#decisions" class="btn btn-outline-primary btn-sm">View Diagram</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="card-title">ğŸ“¤ Export Options</h6>
                                <p class="card-text">All export formats and use cases</p>
                                <a href="#exports" class="btn btn-outline-primary btn-sm">View Diagram</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="card-title">ğŸ› ï¸ Troubleshooting</h6>
                                <p class="card-text">Quick problem resolution guide</p>
                                <a href="#troubleshoot" class="btn btn-outline-primary btn-sm">View Diagram</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Technical Details Tab -->
            <div class="tab-pane fade" id="technical">
                <div class="alert alert-warning">
                    <h5>ğŸ—ï¸ Technical Architecture & Implementation</h5>
                    <p>Detailed technical diagrams for developers and architects:</p>
                </div>
                
                <div class="row">
                    <div class="col-md-4">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="card-title">ğŸ¨ Feature Interaction</h6>
                                <p class="card-text">How all components work together</p>
                                <a href="#features" class="btn btn-outline-secondary btn-sm">View Diagram</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="card-title">ğŸ—ï¸ Data Flow</h6>
                                <p class="card-text">Technical data processing overview</p>
                                <a href="#architecture" class="btn btn-outline-secondary btn-sm">View Diagram</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="card-title">ğŸ—ºï¸ User Journey</h6>
                                <p class="card-text">UX and user experience mapping</p>
                                <a href="#journey" class="btn btn-outline-secondary btn-sm">View Diagram</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <h5>ğŸš€ Ready to Get Started?</h5>
            <p class="mb-2"><strong>Launch the analyzer:</strong> <code>python run_app.py</code></p>
            <p class="mb-2"><strong>Access dashboard:</strong> <a href="http://localhost:5000" class="text-white">http://localhost:5000</a></p>
            <hr style="border-color: rgba(255,255,255,0.3);">
            <p class="mb-0">
                <strong>Powered by Semanticise Inc.</strong> | 
                <a href="https://semanticise.com/" class="text-white">Visit Our Website</a> | 
                <span class="text-light">Professional Azure & Fabric Analytics Solutions</span>
            </p>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Initialize Mermaid -->
    <script>
        // Initialize Mermaid with custom configuration
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#2196F3',
                primaryTextColor: '#1976D2',
                primaryBorderColor: '#1976D2',
                lineColor: '#757575',
                secondaryColor: '#f5f5f5',
                tertiaryColor: '#e3f2fd',
                background: '#ffffff',
                fontFamily: 'Segoe UI, Tahoma, Geneva, Verdana, sans-serif',
                fontSize: '14px'
            },
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            },
            journey: {
                rightAngles: false
            }
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add diagram interaction hints
        document.addEventListener('DOMContentLoaded', function() {
            // Add tooltips to diagram elements (can be expanded for more interactivity)
            const diagrams = document.querySelectorAll('.mermaid');
            diagrams.forEach(diagram => {
                diagram.style.cursor = 'pointer';
                diagram.title = 'Click and explore this interactive diagram';
            });
        });
    </script>
</body>
</html>
